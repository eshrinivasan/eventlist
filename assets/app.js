"use strict";angular.module("app",[]).constant("shortDays",["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]).constant("shortMonths",["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]).factory("datetostr",["shortDays","shortMonths",function(e,t){return function(n){return e[n.getDay()]+", "+t[n.getMonth()]+" "+n.getDate()+", "+n.getFullYear()}}]).controller("ApplicationCtrl",["$scope","$http",function(e,t){e.events=[],e.event={},e.getEvents=function(){t.get("/api/events").success(function(t,n,s,r){e.instruc="Data read successfully: "+t.length+" records",e.events=t}).error(function(t,n,s,r){e.instruc=t})},e.saveEvent=function(){e.event.eventdate=new Date(e.datestr),t.post("/api/events",{event:e.event}).success(function(t,n,s,r){e.event._id=t._id,e.events.push(e.event),e.event={}}).error(function(t,n,s,r){e.instruc=t.msg})},e.deleteEvent=function(n){t.post("/api/events/delete/",{id:n._id}).success(function(t,s,r,o){for(var c=0;c<e.events.length;c++)if(e.events[c]._id==n._id){e.events.splice(c,1);break}}).error(function(t,n,s,r){e.instruc=t.msg})},e.getEvents()}]);